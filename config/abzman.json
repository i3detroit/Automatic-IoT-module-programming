[
    {
        "name": "Light %id%",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "evan",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "evan/inside/basement",
        "topic": "lights/%id%",
        "poweron_state": 1,
        "build_flags": [],
        "commands": [],
        "instances": [
            {
                "id": "001",
                "ip_addr": "192.168.1.201",
                "group_topic": "lights/left"
            },
            {
                "id": "002",
                "ip_addr": "192.168.1.202",
                "group_topic": "lights/left"
            },
            {
                "id": "003",
                "ip_addr": "192.168.1.203",
                "group_topic": "lights/left"
            },
            {
                "id": "004",
                "ip_addr": "192.168.1.204",
                "group_topic": "lights/left"
            },
            {
                "id": "005",
                "ip_addr": "192.168.1.205",
                "group_topic": "lights/right"
            },
            {
                "id": "006",
                "ip_addr": "192.168.1.206",
                "group_topic": "lights/right"
            },
            {
                "id": "007",
                "ip_addr": "192.167.1.207",
                "group_topic": "lights/right"
            },
            {
                "id": "008",
                "ip_addr": "192.168.1.208",
                "group_topic": "lights/workbench"
            },
            {
                "id": "009",
                "ip_addr": "192.168.1.209",
                "group_topic": "lights/workbench"
            },
            {
                "id": "010",
                "ip_addr": "192.168.1.210",
                "group_topic": "lights/workbench"
            },
            {
                "id": "011",
                "ip_addr": "192.168.1.211",
                "group_topic": "lights/workbench"
            }
        ]
    },
    {
        "name": "Sensor Cluster %id%",
        "hass_template": "sensor_cluster",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "evan",
        "module": "WEMOS",
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "evan",
        "group_topic": "sensors",
        "topic": "%id%/sensor-cluster",
        "poweron_state": 1,
        "build_flags": [
            "USE_I2C",
            "USE_BMP",
            "USE_BH1750"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 6; GPIO5 5; teleperiod 60",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "inside/office",
                "ip_addr": "192.168.1.101"
            },
            {
                "id": "inside/basement-west",
                "ip_addr": "192.168.1.102"
            },
            {
                "id": "inside/basement-east",
                "ip_addr": "192.168.1.103"
            },
            {
                "id": "inside/upstairs-west",
                "ip_addr": "192.168.1.104"
            },
            {
                "id": "inside/upstairs-east",
                "ip_addr": "192.168.1.105"
            },
            {
                "id": "inside/hallway",
                "ip_addr": "192.168.1.106"
            },
            {
                "id": "inside/living-room",
                "ip_addr": "192.168.1.107"
            },
            {
                "id": "inside/bathroom",
                "ip_addr": "192.168.1.108"
            },
            {
                "id": "inside/bedroom",
                "ip_addr": "192.168.1.109"
            },
            {
                "id": "inside/kitchen",
                "ip_addr": "192.168.1.110"
            },
            {
                "id": "garage",
                "ip_addr": "192.168.1.111"
            }
        ]
    },
    {
        "name": "Light Switch %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "evan",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "evan",
        "topic": "%id%/light-switch",
        "build_flags": [],
        "notes": "gpio4(D2): switch1 left row off; gpio12(D6): switch 2 left row on; gpio14(D5): switch3 right row off, gpio5(D1): switch4 right row on; gpio0(D3): switch5 workbench lights off; gpio2(D4): switch6 workbench lights on",
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9; GPIO12 10; GPIO14 11; GPIO5 12; GPIO0 13; GPIO2 14;switchmode1 3; switchmode2 3; switchmode3 3; switchmode4 3; switchmode4 5; switchmode5 5; switchmode6 3;restart 1",
                "restart": 1
            },
            {
                "command": "rule1",
                "concat": [
                    "ON switch1#state DO publish cmnd/evan/inside/basement/lights/left/power 0 ENDON",
                    "ON switch2#state DO publish cmnd/evan/inside/basement/lights/left/power 1 ENDON",
                    "ON switch3#state DO publish cmnd/evan/inside/basement/lights/right/power 0 ENDON",
                    "ON switch4#state DO publish cmnd/evan/inside/basement/lights/right/power 1 ENDON",
                    "ON switch5#state DO publish cmnd/evan/inside/basement/lights/workbench/power 0 ENDON",
                    "ON switch6#state DO publish cmnd/evan/inside/basement/lights/workbench/power 1 ENDON"
                ]
            },
            {
                "command": "rule1",
                "payload": "1"
            }
        ],
        "instances": [
            {
                "id": "inside/basement",
                "ip_addr": ""
            }
        ]
    },
    {
        "name": "Condensate Pump %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "evan",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "evan",
        "topic": "%id%/condensate-pump",
        "build_flags": [],
        "notes": "gpio4(D2): condensate pump alarm contact",
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9;switchmode1 3;restart 1",
                "restart": 1
            },
            {
                "command": "rule1",
                "concat": [
                    "ON switch1#state DO publish stat/evan/inside/basement/condensate-pump/alarm 1 ENDON"
                ]
            },
            {
                "command": "rule1",
                "payload": "1"
            }
        ],
        "instances": [
            {
                "id": "inside/basement",
                "ip_addr": ""
            }
        ]
    },
    {
        "name": "Sump Pump %id%",
        "hass_template": "sump_pump",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "evan",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "evan/inside",
        "topic": "basement/sump-pump-%id%",
        "build_flags": [
		        "USE_SR04"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO13 73; GPIO12 74",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "01",
                "ip_addr": "192.168.1.41"
            }
        ]
    }

]
