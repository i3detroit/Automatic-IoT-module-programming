[
    {
        "name": "Light %id%",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "lights/%id%",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "id": "001",
                "ip_addr": "10.13.107.133",
                "group_topic": "lights/row1"
            },
            {
                "id": "002",
                "ip_addr": "10.13.107.78",
                "group_topic": "lights/row1"
            },
            {
                "id": "003",
                "ip_addr": "10.13.107.104",
                "group_topic": "lights/row1"
            },
            {
                "id": "004",
                "ip_addr": "10.13.107.177",
                "group_topic": "lights/row1"
            },
            {
                "id": "005",
                "ip_addr": "10.13.107.117",
                "group_topic": "lights/row2"
            },
            {
                "id": "006",
                "ip_addr": "10.13.107.135",
                "group_topic": "lights/row2"
            },
            {
                "id": "007",
                "ip_addr": "10.13.107.193",
                "group_topic": "lights/row2"
            },
            {
                "id": "008",
                "ip_addr": "10.13.107.154",
                "group_topic": "lights/row2",
                "notes": "electrodragon"
            },
            {
                "id": "009",
                "ip_addr": "10.13.107.184",
                "group_topic": "lights/row2",
                "notes": "electrodragon"
            },
            {
                "id": "010",
                "ip_addr": "10.13.107.130",
                "group_topic": "lights/row3",
                "notes": "electrodragon"
            },
            {
                "id": "011",
                "ip_addr": "10.13.107.98",
                "group_topic": "lights/row3"
            },
            {
                "id": "016",
                "ip_addr": "10.13.107.129",
                "group_topic": "lights/row4",
                "notes": "electrodragon; programming via pin header does not work"
            },
            {
                "id": "018",
                "ip_addr": "10.13.107.201",
                "group_topic": "lights/row4",
                "notes": "electrodragon"
            },
            {
                "id": "019",
                "ip_addr": "10.13.107.178",
                "group_topic": "lights/row4"
            },
            {
                "id": "020",
                "ip_addr": "10.13.107.252",
                "group_topic": "lights/row5"
            },
            {
                "id": "021",
                "ip_addr": "10.13.107.141",
                "group_topic": "lights/row5"
            },
            {
                "id": "022",
                "ip_addr": "10.13.107.172",
                "group_topic": "lights/row5"
            },
            {
                "id": "023",
                "ip_addr": "10.13.107.235",
                "group_topic": "lights/row5"
            },
            {
                "id": "024",
                "ip_addr": "10.13.107.210",
                "group_topic": "lights/row5"
            },
            {
                "id": "025",
                "ip_addr": "10.13.107.13",
                "group_topic": "lights/row5"
            },
            {
                "id": "026",
                "ip_addr": "10.13.107.158",
                "group_topic": "lights/row5"
            },
            {
                "name": "Welding Light",
                "id": "028",
                "ip_addr": "10.13.107.243",
                "group_topic": "lights/east"
            },
            {
                "id": "029",
                "ip_addr": "10.13.107.42",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "030",
                "ip_addr": "10.13.107.216",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "031",
                "ip_addr": "10.13.107.105",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "032",
                "ip_addr": "10.13.107.148",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "033",
                "ip_addr": "10.13.107.168",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "034",
                "ip_addr": "10.13.107.198",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "035",
                "ip_addr": "10.13.107.126",
                "group_topic": "lights/machine-shop"
            },
            {
                "id": "041",
                "ip_addr": "10.13.107.159",
                "group_topic": "lights/west"
            },
            {
                "id": "042",
                "ip_addr": "10.13.107.107",
                "group_topic": "lights/west"
            },
            {
                "id": "043",
                "ip_addr": "10.13.107.50",
                "group_topic": "lights/west"
            },
            {
                "id": "044",
                "ip_addr": "10.13.107.93",
                "group_topic": "lights/west"
            },
            {
                "id": "045",
                "ip_addr": "10.13.107.191",
                "group_topic": "lights/west"
            },
            {
                "id": "046",
                "ip_addr": "10.13.107.226",
                "group_topic": "lights/west"
            },
            {
                "id": "047",
                "ip_addr": "10.13.107.157",
                "group_topic": "lights/west"
            },
            {
                "id": "048",
                "ip_addr": "10.13.107.185",
                "group_topic": "lights/west"
            },
            {
                "id": "049",
                "ip_addr": "10.13.107.165",
                "group_topic": "lights/west"
            },
            {
                "id": "050",
                "ip_addr": "10.13.107.192",
                "group_topic": "lights/west"
            },
            {
                "id": "051",
                "ip_addr": "10.13.107.227",
                "group_topic": "lights/west"
            },
            {
                "id": "052",
                "ip_addr": "10.13.107.190",
                "group_topic": "lights/west"
            },
            {
                "id": "053",
                "ip_addr": "10.13.107.229",
                "group_topic": "lights/west"
            },
            {
                "id": "054",
                "ip_addr": "10.13.107.41"
            }
        ]
    },
    {
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "lights/%id%",
        "group_topic": "lights/east",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; SetOption13 ON; SetOption32 100"
            }
        ],
        "instances": [
            {
                "name": "Vinyl Light",
                "id": "036",
                "ip_addr": "10.13.107.212"
            },
            {
                "name": "Treehouse Light",
                "id": "037",
                "ip_addr": "10.13.107.230"
            }
        ]
    },
    {
        "name": "Light %id%",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "lights/%id%",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO2 56; GPIO13 9; GPIO15 21; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "012",
                "group_topic": "lights/row3",
                "ip_addr": "10.13.107.237",
                "notes": "unmodified ct-065w eco plug"
            },
            {
                "id": "013",
                "group_topic": "lights/row3",
                "ip_addr": "10.13.107.144",
                "notes": "unmodified ct-065w eco plug"
            },
            {
                "id": "014",
                "group_topic": "lights/row3",
                "ip_addr": "10.13.107.122",
                "notes": "modified ct-065w eco plug"
            },
            {
                "id": "015",
                "group_topic": "lights/row4",
                "ip_addr": "10.13.107.84",
                "notes": "modified and broken ct-065w eco plug; Has an esp-12 module instead of default because the magic smoke left, and the voltage current sense was cut."
            },
            {
                "id": "017",
                "group_topic": "lights/row4",
                "ip_addr": "10.13.107.127",
                "notes": "modified ct-065w eco plug"
            }
        ]
    },
    {
        "name": "Light %id%",
        "hass_template": "light_bn",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BN",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "lights/%id%",
        "group_topic": "lights/emergency",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "id": "027",
                "ip_addr": "10.13.107.113"
            },
            {
                "id": "038",
                "ip_addr": "10.13.107.124"
            },
            {
                "id": "039",
                "ip_addr": "10.13.107.112"
            },
            {
                "id": "040",
                "ip_addr": "10.13.107.187"
            }
        ]
    },
    {
        "name": "Chandelier %id%",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_SV",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "accent/chandelier-%id%",
        "group_topic": "accent/chandelier",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "id": "01",
                "ip_addr": "10.13.107.74"
            },
            {
                "id": "02",
                "ip_addr": "10.13.107.27"
            }
        ]
    },
    {
        "name": "Sensor Cluster %id%",
        "hass_template": "sensor_cluster",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "sensors/cluster-%id%",
        "group_topic": "none",
        "poweron_state": 1,
        "build_flags": [
            "USE_I2C",
            "USE_BMP",
            "USE_BH1750",
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO4 6; GPIO5 5; teleperiod 60",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "006",
                "ip_addr": "10.13.107.100"
            },
            {
                "id": "007",
                "ip_addr": "10.13.107.206"
            },
            {
                "id": "008",
                "ip_addr": "10.13.107.53"
            },
            {
                "id": "Commons Ground",
                "name": "Commons Ground Sensor Cluster",
                "ip_addr": "10.13.107.59",
                "topic": "commons/ground-sensor-cluster"
            },
            {
                "id": "Commons Ceiling",
                "name": "Commons Ceiling Sensor Cluster",
                "ip_addr": "10.13.107.134",
                "topic": "commons/ceiling-sensor-cluster"
            },
            {
                "id": "Fablab",
                "name": "Fablab Sensor Cluster",
                "ip_addr": "10.13.107.222",
                "topic": "fablab/sensor-cluster"
            }
        ]
    },
    {
        "name": "Swirly Lights %id%",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/accent/swirly-lights-%id%",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "id": "01",
                "ip_addr": "10.13.107.49"
            },
            {
                "id": "02",
                "ip_addr": "10.13.107.24"
            }
        ]
    },
    {
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TOUCH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "name": "Media Lab Lights",
                "topic": "media-lab/lights",
                "ip_addr": "10.13.107.196"
            },
            {
                "name": "Hallway Light",
                "topic": "hallway/light",
                "ip_addr": "10.13.107.167"
            },
            {
                "name": "Dooridor Light",
                "topic": "dooridor/lights",
                "ip_addr": "10.13.107.197"
            },
            {
                "name": "Elab Light",
                "topic": "elab/light",
                "ip_addr": "10.13.107.150"
            },
            {
                "name": "Craftroom Light",
                "topic": "craftroom/light",
                "ip_addr": "10.13.107.239"
            },
            {
                "name": "Small Bathroom Light",
                "topic": "small-bathroom/light",
                "ip_addr": "10.13.107.79"
            },
            {
                "name": "Small Bathroom Shower Light",
                "topic": "small-bathroom/shower-light",
                "ip_addr": "10.13.107.118"
            },
            {
                "name": "Classroom Light West",
                "topic": "classroom/lights-west",
                "ip_addr": "10.13.107.173"
            }
        ]
    },
    {
        "name": "Classroom Lightswitch East",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TOUCH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "classroom/lightswitch-east",
        "group_topic": "none",
        "ip_addr": "10.13.107.164",
        "poweron_state": 0,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "switchmode1 3; rule on button1#state do publish cmnd/i3/inside/classroom/lights-east/POWER TOGGLE endon; rule 1; SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Classroom Light East",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "classroom/lights-east",
        "group_topic": "none",
        "ip_addr": "10.13.107.101",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO05 52; GPIO13 21; GPIO14 9; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Hallway West Lightswitch",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TOUCH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "hallway/lightswitch-west",
        "group_topic": "none",
        "ip_addr": "10.13.107.174",
        "poweron_state": 0,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "switchmode1 3; rule on button1#state do publish cmnd/i3/inside/hallway/light/POWER TOGGLE endon; rule 1; SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TOUCH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances":[
            {
                "name": "Commons Ceiling Fan",
                "topic": "commons/ceiling-fans",
                "ip_addr": "10.13.107.108"
            },
            {
                "name": "Laser Ceiling Fan",
                "topic": "laser-zone/ceiling-fan",
                "ip_addr": "10.13.107.52"
            }
        ]
    },
    {
        "name": "Small Bathroom Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TOUCH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "small-bathroom/vent",
        "group_topic": "none",
        "ip_addr": "10.13.107.82",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Laser Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_SV",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "laser-zone/vent-fan",
        "group_topic": "none",
        "ip_addr": "10.13.107.121",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Traffic Light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/traffic-light",
        "group_topic": "none",
        "ip_addr": "10.13.107.56",
        "poweron_state": 0,
        "build_flags": [
            "USE_DHT",
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO00 9; GPIO04 31; GPIO05 30; GPIO12 29; GPIO14 2; GPIO15 32; GPIO16 56; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Fablab Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "fablab/vent",
        "group_topic": "none",
        "ip_addr": "10.13.107.110",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Machine Shop Ceiling Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "machine-shop/ceiling-fan",
        "group_topic": "none",
        "ip_addr": "10.13.107.137",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Paint Box Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/paint-box",
        "group_topic": "none",
        "ip_addr": "10.13.107.199",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Disco Spotlights",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/accent/disco-spotlights",
        "group_topic": "none",
        "ip_addr": "10.13.107.236",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "433 RF Reciever",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BRIDGE",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "infrastructure/433-rf-reciever",
        "group_topic": "none",
        "ip_addr": "10.13.107.36",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "notes": "433-rf-reciever"
    },
    {
        "name": "%id% Chiller",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "laser-zone/%id%/chiller",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "Make sure no one is using the laser cutter",
        "instances": [
            {
                "id": "Wolverine",
                "ip_addr": "10.13.107.231"
            },
            {
                "id": "Bumblebee",
                "ip_addr": "10.13.107.114"
            }
        ]
    },
    {
        "name": "Fablab Chiller",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_POW",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "fablab/chiller",
        "group_topic": "none",
        "ip_addr": "10.13.107.77",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "Make sure no one is using the laser cutter. Also, this will reset any power monitoring calibration."
    },
    {
        "name": "Tool Crib Workbench Lights",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "tool-crib/workbench-lights",
        "group_topic": "none",
        "ip_addr": "10.13.107.83",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Genie Charging",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_POW",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/genie-charging",
        "group_topic": "none",
        "ip_addr": "10.13.107.242",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "This will reset any power monitoring calibration"
    },
    {
        "name": "Commons Siren",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/siren",
        "group_topic": "none",
        "ip_addr": "10.13.107.162",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "%id%",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_POW",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "laser-zone/%id%/laser",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption13 ON; SetOption32 100; teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "Make sure no one is using the laser cutter. Also, this will reset any power monitoring calibration.",
        "instances": [
            {
                "id": "Wolverine",
                "ip_addr": "10.13.107.223"
            },
            {
                "id": "Bumblebee",
                "ip_addr": "10.13.107.245"
            }
        ]
    },
    {
        "name": "CNC Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "cnc/vent",
        "group_topic": "none",
        "ip_addr": "10.13.107.132",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9; GPIO14 56; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "CNC Large Light",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "cnc/light",
        "group_topic": "none",
        "ip_addr": "10.13.107.75",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9; GPIO14 56; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Vent Fan Over Sink",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_TH",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/south-vent",
        "group_topic": "none",
        "ip_addr": "10.13.107.12",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9; GPIO14 56; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Elab Arch %id%",
        "hass_template": "light_rgb",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "elab/accent/arch-%id%",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
            "USE_IR_REMOTE",
            "USE_IR_RECEIVE",
            "IR_RCV_BUFFER_SIZE 100",
            "IR_RCV_TIMEOUT 15",
            "IR_RCV_MIN_UNKNOWN_SIZE 6",
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO02 56; GPIO4 51; GPIO05 38; GPIO12 37; GPIO13 39; GPIO15 40; SetOption15 1; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "South",
                "ip_addr": "10.13.107.115"
            },
            {
                "id": "North",
                "ip_addr": "10.13.107.138"
            }
        ]
    },
    {
        "name": "Lanterns",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "laser-zone/accent/lanterns",
        "group_topic": "accent/lanterns",
        "ip_addr": "10.13.107.153",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Fairy Lights",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_BASIC",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/accent/fairy-lights",
        "group_topic": "accent/fairy-lights",
        "ip_addr": "10.13.107.253",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON"
            }
        ]
    },
    {
        "name": "Chinesium Laser",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_POW",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "fablab/chinesium-laser",
        "group_topic": "none",
        "ip_addr": "10.13.107.86",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "Make sure no one is using the laser cutter. Also this will reset any power monitoring calibration"
    },
    {
        "name": "Snapple Vending Light",
        "hass_template": "light_rgb",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/snapple-vending-light",
        "group_topic": "none",
        "ip_addr": "10.13.107.106",
        "poweron_state": 1,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO02 56; GPIO4 51; GPIO05 38; GPIO12 37; GPIO13 39; GPIO15 40; SetOption15 1; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "BSide Office Lights",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "b-side/office/lights",
        "group_topic": "none",
        "ip_addr": "10.13.107.103",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO05 56; GPIO13 21; GPIO14 9; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "BSide Ceiling Vent Fan",
        "hass_template": "switch",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "b-side/roof-exhaust-fan",
        "group_topic": "none",
        "ip_addr": "10.13.107.109",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO05 56; GPIO13 21; GPIO14 9; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Etekcity Test 04",
        "hass_template": "light",
        "hass_domain": "light",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "etekciy/test-04",
        "group_topic": "none",
        "ip_addr": "10.13.107.136",
        "poweron_state": 0,
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO05 56; GPIO13 21; GPIO14 9; switchmode1 3; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Omnisensor",
        "hass_template": null,
        "hass_domain": null,
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "sensors/omnisensor",
        "group_topic": "none",
        "ip_addr": "10.13.107.111",
        "poweron_state": 0,
        "build_flags": [
                "USE_I2C",
                "USE_BMP",
                "USE_BME680",
                "USE_PMS5003",
                "USE_BH1750",
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO3 69; GPIO4 6; GPIO5 5; teleperiod 60; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "BSide Office Lightswitch",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "b-side/office-lightswitch",
        "group_topic": "none",
        "ip_addr": "10.13.107.87",
        "poweron_state": 0,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO0 9; GPIO13 56; switchmode 3; rule on switch1#state do publish cmnd/i3/inside/b-side/office/lights/power 2 endon; rule 1; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "BSide Shop %id% Lightswitch",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "b-side/shop-%id%-lightswitch",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO0 9; GPIO13 56; switchmode 3; rule1 on switch1#state do publish cmnd/i3/inside/lights/west/power 2 endon; rule1 1; SetOption56 ON; SetOption57 ON"
            }
        ],
        "instances": [
            {
                "id": "South",
                "ip_addr": "10.13.107.72"
            },
            {
                "id": "North",
                "ip_addr": "10.13.107.15"
            }
        ]
    },
    {
        "name": "B-Side Alarm Panel",
        "hass_template": null,
        "hass_domain": null,
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "b-side/alarm-panel",
        "group_topic": "none",
        "ip_addr": "10.13.107.228",
        "poweron_state": 0,
        "build_flags": [
           "USE_I2C",
           "USE_MCP230xx",
           "USE_MCP230xx_ADDR 0x20",
           "USE_MCP230xx_OUTPUT",
           "USE_MCP230xx_DISPLAYOUTPUT",
           "USE_RULES",
           "SUPPORT_MQTT_EVENT",
           "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 6; GPIO5 5; SetOption56 ON; SetOption57 ON",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "sensor29 0,2,1,2; sensor29 1,2,1,2; sensor29 2,2,1,2; sensor29 3,2,1,2; sensor29 4,2,1,2; sensor29 5,2,1,2; sensor29 6,2,1,2; sensor29 7,2,1,2; sensor29 8,2,1,0; sensor29 9,2,1,0; sensor29 10,2,1,2; sensor29 11,2,1,2; sensor29 12,2,1,2; sensor29 13,2,1,2; sensor29 14,2,1,2; sensor29 15,2,1,2"
            },
            {
                "command": "backlog",
                "payload": "rule1 on event#MCPINT_D8=0 do publish cmnd/i3/inside/lights/west/power 0 endon on event#MCPINT_D9=0 do publish cmnd/i3/inside/lights/west/power 1 endon; rule1 1"
            }
        ]
    },
    {
        "name": "Craft Room Lightswitch",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "craftroom/lightswitch",
        "group_topic": "none",
        "ip_addr": "10.13.107.14",
        "poweron_state": 0,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO2 9; switchmode 3; rule on switch1#state do publish cmnd/i3/inside/craftroom/light/power 2 endon; rule 1; SetOption56 ON; SetOption57 ON",
                "restart": 1
            }
        ]
    },
    {
        "name": "Fablab AC",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_POW",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "fablab/ac",
        "group_topic": "none",
        "ip_addr": "10.13.107.55",
        "poweron_state": 1,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "This will reset any power monitoring calibration."
    },
    {
        "name": "Snapple Compressor",
        "hass_template": "pow",
        "hass_domain": "switch",
        "software": "tasmota",
        "site": "i3",
        "module": "SONOFF_S31",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/snapple-compress",
        "group_topic": "none",
        "ip_addr": "10.13.107.166",
        "poweron_state": 1,
        "build_flags": [
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "teleperiod 60; SetOption56 ON; SetOption57 ON"
            }
        ],
        "flash_warning": "This will reset any power monitoring calibration."
    },
    {
        "name": "Front Door Panel",
        "hass_template": null,
        "hass_domain": null,
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "commons/front-door-indicator",
        "group_topic": "none",
        "ip_addr": "10.13.107.102",
        "poweron_state": 0,
        "build_flags": [
           "USE_I2C",
           "USE_MCP230xx",
           "USE_MCP230xx_ADDR 0x20",
           "USE_MCP230xx_OUTPUT",
           "USE_MCP230xx_DISPLAYOUTPUT",
           "USE_RULES",
           "SUPPORT_MQTT_EVENT",
           "USE_EXPRESSION",
           "USE_ANALOG_IN"
        ],
        "commands": [
            {
                "command": "backlog", 
                "payload": "GPIO4 6; GPIO5 5; SetOption56 ON; SetOption57 ON; ADC0 1",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "sensor29 0,5,0; sensor29 1,5,0; sensor29 2,5,0; sensor29 3,5,0; sensor29 4; sensor29 5; sensor29 6,5,0; sensor29 7,5,0; sensor29 8; sensor29 9; sensor29 10,2,0,0; sensor29 11; sensor29 12; sensor29 13,2,1,0; sensor29 14; sensor29 15"
            },
            {
                "command": "rule1",
                "payload": "on event#MCPINT_D13=1 do backlog sensor29 3,ON; sensor29 2,OFF endon on event#MCPINT_D13=0 do backlog sensor29 3,OFF; sensor29 2,ON endon on Event#glasslock=LOCKED do backlog sensor29 0,ON; sensor29 1,OFF endon on Event#glasslock=UNLOCKED do backlog sensor29 0,OFF; sensor29 1,ON endon on Event#aircomp=ON do backlog sensor29 6,ON; sensor29 7,OFF endon on Event#aircomp=OFF do backlog sensor29 6,OFF; sensor29 7,ON endon"
            },
            {
                "command": "rule1",
                "payload": "1"
            },
            {
                "command": "rule2",
                "payload": "on Mqtt#Connected do backlog subscribe glasslock,stat/i3/inside/classroom/glass-door/lock; publish cmnd/i3/inside/classroom/glass-door/lock; subscribe aircomp,stat/i3/inside/infrastructure/air-compressor/power; publish cmnd/i3/inside/infrastructure/air-compressor/POWER endon on event#MCPINT_D10=0 do publish stat/i3/inside/commons/front-door/lock UNLOCKED endon on event#MCPINT_D10=1 do publish stat/i3/inside/commons/front-door/lock LOCKED endon"
            },
            {
                "command": "rule2",
                "payload": "1"
            },
            {
                "command": "rule3",
                "payload": "on tele-analog#a0 do var1=((%value%*13)/811) endon on var1#state do publish tele/i3/inside/commons/front-door-indicator/batteryVoltage %var1% endon"
            },
            {
                "command": "rule3",
                "payload": "1"
            },
            {
                "command": "restart",
                "payload": "1",
                "restart": 1
            }
        ]
    },
    {
        "name": "Air Line Pressure Sensor %id%",
        "hass_template": null,
        "hass_domain": null,
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "board": "esp01_1m",
        "base_topic": "i3/inside",
        "topic": "sensors/air-line-pressure-%id%",
        "group_topic": "none",
        "poweron_state": 0,
        "build_flags": [
            "USE_I2C",
            "USE_ANALOG_IN",
            "USE_RULES",
            "SUPPORT_MQTT_EVENT",
            "USE_EXPRESSION",
            "TELE_PERIOD 10"
        ],
        "commands": [
            {
                "command": "ADC0",
                "payload": "1",
                "restart": 1
            }
        ],
        "instances": [
            {
                "id": "01",
                "ip_addr": "10.13.107.89",
                "commands": [
                    {
                        "command": "backlog",
                        "payload": "rule1 on tele-analog#a0 do var1=((0.2123*%value%)-22.735) endon on var1#state do publish stat/i3/inside/sensors/air-line-pressure-%id%/pressure %var1% endon; rule1 1"
                    }
                ]
            },
            {
                "id": "02",
                "ip_addr": "10.13.107.33",
                "commands": [
                    {
                        "command": "backlog",
                        "payload": "rule1 on tele-analog#a0 do var1=((0.1781*%value%)-19.747) endon on var1#state do publish stat/i3/inside/sensors/air-line-pressure-%id%/pressure %var1% endon; rule1 1"
                    }
                ]
            }
        ]
    },
    {
        "name": "Machine Shop Light Switches %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "machine-shop/light-switches-%id%",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO4 9; GPIO5 10; GPIO0 11; GPIO2 12; switchmode1 3; switchmode2 3; switchmode3 3; switchmode4 3",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/lights/machine-shop/power 1 endon on switch2#state do publish cmnd/i3/inside/lights/machine-shop/power 0 endon on switch3#state do publish cmnd/i3/inside/machine-shop/ceiling-fan/power 1 endon on switch4#state do publish cmnd/i3/inside/machine-shop/ceiling-fan/power 0 endon; rule1 1",
                "restart": 0
            }
        ],
        "instances": [
            {
                "id": "South",
                "ip_addr": "10.13.107.23"
            },
            {
                "id": "West",
                "ip_addr": "10.13.107.64"
            }
        ]
    },
    {
        "name": "Middle East Light Switches %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "commons/middle-east-light-switches-%id%",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "GPIO4 9; GPIO5 10; GPIO0 11; GPIO2 12; switchmode1 3; switchmode2 3; switchmode3 3; switchmode4 3; restart 1",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/lights/row5/power 1 endon on switch2#state do publish cmnd/i3/inside/lights/row5/power 0 endon on switch3#state do publish cmnd/i3/inside/lights/row4/power 1 endon on switch4#state do publish cmnd/i3/inside/lights/row4/power 0 endon; rule1 1",
                "restart": 0
            }
        ],
        "instances": [
            {
                "id": "South",
                "ip_addr": "10.13.107."
            },
            {
                "id": "North",
                "ip_addr": "10.13.107."
            }
        ]
    },
    {
        "name": "Commons Light Switches %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "commons/light-switches-%id%",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO4 9; GPIO14 10; GPIO14 11; GPIO5 12; GPIO0 13; GPIO2 14; switchmode1 3; switchmode2 3; switchmode3 3; switchmode4 3; switchmode5 3; switchmode6 3",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/lights/row1/power 1 endon on switch2#state do publish cmnd/i3/inside/lights/row1/power 0 endon on switch3#state do publish cmnd/i3/inside/lights/row2/power 1 endon on switch4#state do publish cmnd/i3/inside/lights/row2/power 0 endon; on switch5#state do publish cmnd/i3/inside/lights/row3/power 1 endon on switch6#state do publish cmnd/i3/inside/lights/row3/power 0 endon; rule1 1",
                "restart": 0
            }
        ],
        "instances": [
            {
                "id": "East",
                "ip_addr": "10.13.107.39"
            },
            {
                "id": "West",
                "ip_addr": "10.13.107."
            }
        ]
    },
    {
        "name": "Air Compressor Request Button %id%",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "air-compressor-request-%id%",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO0 9; switchmode1 3",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/infrastructure/air-compressor/POWER ON endon; rule1 1",
                "restart": 0
            }
        ],
        "instances": [
            {
                "id": "001",
                "ip_addr": "10.13.107.23"
            },
            {
                "id": "002",
                "ip_addr": "10.13.107.64"
            },
            {
                "id": "003",
                "ip_addr": "10.13.107.64"
            }
        ]
    },
    {
        "name": "Weld Zone Light Button",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "lights/028-button",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO0 9; switchmode1 3",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/lights/028/POWER ON endon; rule1 1",
                "restart": 0
            }
        ]
    },
    {
        "name": "Disco Button",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "ip_addr": "10.13.107.25",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "commons/disco-button",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO0 9; switchmode1 3; GPIO2 10; switchmode2 3",
                "restart": 1
            },
            {
                "command": "backlog",
                "payload": "rule1 on switch1#state do publish cmnd/i3/inside/commons/disco/POWER ON endon on switch2#state do publish cmnd/i3/inside/commons/disco/POWER OFF endon; rule1 1",
                "restart": 0
            }
        ]
    },
    {
        "name": "Fablab Control Buttons",
        "hass_template": "generic",
        "hass_domain": "sensor",
        "software": "tasmota",
        "site": "i3",
        "module": "WEMOS",
        "poweron_state": 0,
        "board": "esp01_1m",
        "group_topic": "none",
        "base_topic": "i3/inside",
        "topic": "fablab/control-buttons",
        "build_flags": [
                "USE_RULES",
                "SUPPORT_MQTT_EVENT",
                "USE_EXPRESSION"
        ],
        "commands": [
            {
                "command": "backlog",
                "payload": "SetOption56 ON; SetOption57 ON; GPIO0 9; switchmode1 3;  GPIO2 10; switchmode2 3; GPIO1 11; switchmode3 3; GPIO3 12; switchmode4 3; GPIO4 13; switchmode5 3; GPIO5 52; GPIO12 53; GPIO13 54",
                "restart": 1
            },
            {
                "command": "rule1",
                "payload": "on Mqtt#Connected do backlog subscribe aircomp,stat/i3/inside/infrastructure/air-compressor/power; publish cmnd/i3/inside/infrastructure/air-compressor/POWER; subscribe venfan,stat/i3/inside/fablab/vent/power; publish cmnd/i3/inside/fablab/vent/power; subscribe chiller,stat/i3/inside/fablab/chiller/power; publish cmnd/i3/inside/fablab/chiller/power endon",
                "restart": 0
            },
            {
                "command": "rule1",
                "payload": "1",
                "restart": 0
            },
            {
                "command": "rule2",
                "payload": "on switch1#state do publish cmnd/i3/inside/fablab/vent/POWER ON endon on switch2#state do publish cmnd/i3/inside/fablab/vent/POWER OFF endon on switch3#state do publish cmnd/i3/inside/fablab/chiller/POWER ON endon on switch4#state do publish cmnd/i3/inside/fablab/chiller/POWER OFF endon on switch5#state do publish i3/inside/infrastructure/air-compressor/POWER ON endon",
                "restart": 0
            },
            {
                "command": "rule2",
                "payload": "1",
                "restart": 0
            },
            {
                "command": "rule3",
                "payload": "on Event#aircomp=ON do ledpower3 1 endon on Event#aircomp=OFF do ledpower3 0 endon on Event#ventfan=ON do ledpower1 1 endon on Event#ventfan=OFF do ledpower1 0 endon on Event#chiller=ON do ledpower2 1 endon on Event#chiller=OFF do ledpower2 0 endon",
                "restart": 0
            },
            {
                "command": "rule3",
                "payload": "1",
                "restart": 0
            },
            {
                "command": "restart",
                "payload": "1",
                "restart": 1
            }
        ]
    }
]
